<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <title>Paper Read - Improved Price Oracles: Constant Function Market Makers by Angeris and Chitra (2020)</title> <div class=franklin-content ><p>&#8287; &#8287;</p> <p><strong><a href="/"><span style="color: black"> cd ..</span></a></strong></p> <div style="text-align: right"> 2023-07-15 </div> <h2 id=title ><a href="#title" class=header-anchor >Paper Read - Improved Price Oracles: Constant Function Market Makers by Angeris and Chitra (2020)</a></h2> <p>As I read more into quantitative finance &amp; people within the space, it was inevitable that I&#39;d come across crypto. Personally I&#39;m on the <a href="https://web3isgoinggreat.com/">web3 is going just great</a> and <a href="https://www.youtube.com/watch?v&#61;YQ_xWvX1n9g&amp;ab_channel&#61;FoldingIdeas">Line Goes Up</a> side of things, but this nifty little structure caught my interest research-wise.</p> <h3 id=background ><a href="#background" class=header-anchor >Background</a></h3> <p>So traditionally, &quot;market-maker&quot; meant actors that profit on the bid-ask spread in exchanges. But constant function market makers &#40;CFMMs&#41; are more comparable to order books which match orders among its participants. Basically, they&#39;re not actors on the exchange, they <em>are</em> the exchange.</p> <p>A simple example of CFMM involves two assets, like in Uniswap. Users put coin <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span></span></span></span> into reserve <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>α</mi></msub></mrow><annotation encoding="application/x-tex">R_{\alpha}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8333em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">α</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and get coin <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>β</mi></mrow><annotation encoding="application/x-tex">\beta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span> from reserve <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>β</mi></msub></mrow><annotation encoding="application/x-tex">R_{\beta}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.9694em;vertical-align:-0.2861em;"></span><span class=mord ><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05278em;">β</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> &#40;and vice versa&#41;. When generalized, it is possible to trade a basket of assets into the reserves for another basket of assets.</p> <h3 id=definition ><a href="#definition" class=header-anchor >Definition</a></h3> <p>CFMMs mathematically are defined by the trading function</p> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi><mo stretchy=false >(</mo><mi>R</mi><mo separator=true >,</mo><mi mathvariant=normal >Δ</mi><mo separator=true >,</mo><mi mathvariant=normal >Λ</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> \varphi(R,\Delta,\Lambda) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >Δ</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >Λ</span><span class=mclose >)</span></span></span></span> <p>where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span> &#61; reserves, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class=mord >Δ</span></span></span></span> &#61; asset input, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >Λ</mi></mrow><annotation encoding="application/x-tex">\Lambda</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6833em;"></span><span class=mord >Λ</span></span></span></span> &#61; asset output.</p> <p>Trade is accepted only if the trading function has the same result as before the trade:</p> <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi><mo stretchy=false >(</mo><mi>R</mi><mo separator=true >,</mo><mi mathvariant=normal >Δ</mi><mo separator=true >,</mo><mi mathvariant=normal >Λ</mi><mo stretchy=false >)</mo><mo>=</mo><mi>φ</mi><mo stretchy=false >(</mo><mi>R</mi><mo separator=true >,</mo><mn>0</mn><mo separator=true >,</mo><mn>0</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> \varphi(R,\Delta,\Lambda) = \varphi(R,0,0) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >Δ</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >Λ</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">φ</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >0</span><span class=mclose >)</span></span></span></span> <p>i.e. it stays <em>constant</em>. Hence the name.</p> <div class=page-foot > Last modified: July 27, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>